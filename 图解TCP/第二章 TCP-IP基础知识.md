# 第二章 TCP/IP基础知识

---

## 2.1 TCP/IP出现的背景及其历史

军用技术->阿帕网(ARPANET, 全球互联网的鼻祖)->TCP/IP诞生->UNIX操作系统实现TCP/IP协议->互联网诞生->商用互联网服务->IPv6规范, 载入RFC

容灾性较弱的**中央集中式**网络->容灾性较强的**分组**网络

## 2.2 TCP/IP的标准化

### TCP/IP的具体含义

利用IP进行通信时所必须用到的**协议群的统称**, 又称**网际协议族**

### TCP/IP标准化精髓

* 开放性
* 实用性

### TCP/IP规范--RFC

RFC文档记录协议规范内容, 还包含协议的实现和运用的相关信息, 以及实验方面的信息

## 2.3 互联网基础知识

### 互联网定义

互联网(The Internet): 指由ARPANET发展而来、**互连全世界的计算机网络**

### 互联网与TCP/IP的关系

为使用互联网而**开发制定的协议族**, 互联网的协议就是TCP/IP

### 互联网的结构

互联网中的每个网络是由 **骨干网** 和 **末端网** 组成, 每个网络之间通过 **NOC(网络操作中心)** 相连

互联网就是众多**异构网络(网络运营商不同)** 通过 **IX(网络交换中心)** 互连的一个巨型网络

## 2.4 TCP/IP协议分层

### 2.4.1 TCP/IP 与 OSI参考模型

<table>
  <tr>
    <th width=26%>OSI参考模型</th>
    <th width=52%>TCP/IP分层模型</th>
    <th width=22%>计算机</th>
  </tr>
  <tr>
    <td>应用层</td>
    <td rowspan=3>应用层 DNS,URI,HTML,HTTP,TSL/SSL,MIME,SSH,FTP,SNMP,MIB,RTP,LDAP</td>
    <td rowspan=3>应用程序</td>
  </tr>
  <tr>
    <td>表示层</td>
  <tr>
    <td>会话层</td>
  </tr>
  <tr>
    <td bgcolor=yellow>传输层</td>
    <td bgcolor=yellow>传输层 TCP,UDP,UDP-Lite,SCTP,DCCP</td>
    <td bgcolor=yellow rowspan=2>操作系统</td>
  </tr>
  <tr>
    <td bgcolor=yellow>网络层</td>
    <td bgcolor=yellow>互联网层 ARP,IP,ICMP</td>
  </tr>
  <tr>
    <td bgcolor=gray>数据链路层</td>
    <td bgcolor=gray>网卡层</td>
    <td bgcolor=gray rowspan=2>设备驱动程序与网络接口</td>
  </tr>
  <tr>
    <td bgcolor=gray>物理层</td>
    <td bgcolor=gray>(硬件)</td>
  </tr>
</table>

* OSI参考模型注重 **通信协议必要的功能是什么**
* TCP/IP更强调 **在计算机上实现协议应该开发哪种程序**

### 硬件(物理层)

TCP/IP的最底层是**负责数据传输的硬件**, 相当于以太网或电话线路等物理设备, TCP/IP是在 **网络互连的设备之间能够通信的前提下**才被提出的协议

### 网络接口层(数据链路层)

利用以太网中的数据链路层进行通信, 属于**接口层**

### 互联网层(网络层)

相当于OSI模型中的第3层网络层, IP协议的作用是**将分组数据发送到目的主机**

TCP/IP分层中的互联网层与传输层的功能由**操作系统提供**, 尤其是路由器, 必须**实现通过互联网层转发分组数据包的功能**.

#### IP

IP是**跨越网络传送数据包**, 期间使用**IP地址**作为主机的标识, 虽然IP也是分组交换的一种协议, 但它**不具有重发机制**, 即使分组数据包未能到达对端主机也不会重发, 属于**非可靠性传输协议**

#### ICMP

IP数据包在发送途中发生异常时, 需要**给发送端发送一个异常的通知**, 也被用来**诊断网络的健康状况**

#### ARP

从分组数据包的IP中**解析出物理地址(MAC地址)**的一种**协议**

### 传输层

能够**让应用程序之间实现通信**, 两个代表性的协议: 

* TCP
* UDP

#### TCP

**面向有连接**的传输层协议

#### UDP

**面向无连接**的传输层协议

### 应用层(会话层以上的分层)

TCP/IP应用的架构绝大多数数据**客户端/服务端模型**

#### 万维网(WWW、W3、Web)

Web浏览器: **浏览器与服务端**之间通信所用的协议是**HTTP**(属于OSI应用层的协议), 所传输数据的主要格式是**HTML**(属于OSI表示层的协议)

#### 电子邮件(E-Mail)

发送电子邮件用到的协议叫做**SMTP**, 根据**MIME**协议确定数据格式

#### 文件传输(FTP)

互连的计算机之间可以相互发送、接收文件. 此过程使用的协议叫做**FTP**, 传输过程可选择**二进制方式** 或 **文本方式** 

#### 远程登录(TELNET 与 SSH)

登录到远程的计算机上, 远程操控计算机. 远程登录常用的 **TELNET** 和 **SSH** 两种协议

#### 网络管理(SNMP)

在TCP/IP中进行网络管理时, 使用**SNMP**(属于应用层协议)协议. **可以对连网的设备进行远程修改配置, 检查是否正常运行**. 使用SNMP管理的主机、网桥、路由器等称作**SNMP代理**, 进行管理的那一段叫做**管理器**.

在SNMP代理端保存的信息可以通过**MIB**(属于表示层协议)访问.

## 2.5 TCP/IP分层模型与通信示例