# 第一章 网络基础知识

---

## 1.1 计算机网络出现的背景

### 从独立模式到网络互连模式

* 单机模式(独立模式)
* 网络互连模式: 
	* 广域网 **WAN(Wide Area Network)**
	* 局域网 **LAN(Local Area Network)**

### 从计算机通信到信息通信

最初, 由管理员将**特定的几台计算机相连**在一起形成计算机网络, 即一种**私有网络**. 后来, 人们尝试将**多个私有网络相互连接**组成更大的私有网络, 这种网络逐渐发展演变成为**互联网**.

### 计算机网络的作用

好比一个人的**神经系统**

## 1.2 计算机与网络发展的7个阶段

计算机网络最初的目的是**连接计算机**, 现代计算机的目的**连接人与人**

### 批处理

**价格昂贵体积巨大**, 主要用于**大规模计算或处理**

### 分时系统(TSS, Time Sharing System)

* 实现**一人一机**的目的
* 独占性
* 交互式(对话式)操作

### 计算机之间的通信

计算机与计算机之前由**通信线路连接**, 极大地**缩短了传送数据的时间**

### 计算机网络的产生

* 基于分组交换技术的计算机网络
* **窗口系统**, 多任务自由切换

### 互联网的普及

**轻量型**的个人电脑, 用于**互联网的访问**, 实现**即时沟通和交流**

### 以互联网技术为中心的时代

**IP(Internet Protocol)网**就是互联网技术的产物

### 从 "单纯建立连接" 到 "安全建立连接"

* 单纯建立连接的**负面问题**
	* 病毒侵害
	* 信息泄露 
	* 网络欺诈
* 追求**安全建立连接**的目标
	* 理解网络的机制
	* 充分考虑联网后的日常运维流程 
	* 自我防卫

### 手握金刚钻的TCP/IP

互联网是由**许多独立发展的网路通信技术融合而成**, 不断融合且实现统一的正是**TCP/IP技术**. TCP/IP是**通信协议的统称**

## 1.3 协议

### 常见的协议

* TCP/IP(网络体系结构)**以下等协议的集合**
	* IP
	* TCP
	* HTTP

### 协议的必要性

计算机之间, 事先达成一个详细的**约定**, 并遵循这一约定进行处理方可建立通信

* 设备
* CPU(中央处理器): **心脏**, 调度执行程序
* OS(操作系统): 一种**基础软件**. 采用CPU时间片轮转机制, 在多个程序之间进行切换, 合理调度, 这种方式叫做**多任务调度**

### 分组交换协议

将大数据**分割为一个个叫做包的较小单位**进行传输的方法

* 发送端地址
* 接收端地址
* 报文首部, 发送方和接收方有必要对**报文首部和内容保持一致的定义和解释**

## 1.4 协议由谁规定

国际标准化组织(ISO)制定了国际标准**开放式通信系统互联参考模型(OSI)**, **TCP/IP是互联网之上的标准**, 也是业界标准

标准化: 产品之间具有**兼容性、便于使用**的规范化过程

## 1.5 协议分层

OSI参考模型为7个分层, 每个分层都**接收由它下一层所提供的特定服务**, 并**为自己的上一层提供特定的服务**

* **上下层**之间交互的约定叫做**接口**
* **同一层**之间交互的约定叫做**协议**

## 1.6 OSI参考模型以及通信处理举例

### OSI参考模型

将通信功能划分为**7个分层**, 为基础界定了每个阶层的协议和每个阶层之间接口相关的**标准**

* OSI参考模型定义了么每一层的 **"作用"**
* 定义每一层 **"作用"** 的是 **"协议"**
* **"协议"** 是约定, 其具体内容为 **"规范"**
* 我们日常所使用的就是遵循各个协议的具体 **"规范"** 的产品和通信手段

### OSI参考模型中各个分层的作用

<table>
  <tr>
    <th width=5%></th>
    <th width=18%>分层名称</th>
    <th width=50%>功能</th>
    <th width=27%>举例</th>
  </tr>
  <tr>
    <td bgcolor=gray>7</td>
    <td>应用层</td>
    <td>针对每个应用的协议, 包括文件传输、电子邮件、远程登录等协议</td>
    <td>主机A(发送方地址)、主机B(接收方地址)、内容为"早上好"(报文内容)</td>
  </tr>
  <tr>
    <td bgcolor=gray>6</td>
    <td>表示层</td>
    <td>将数据格式转换为网络标准格式</td>
    <td>关注数据的表现形式</td>
  <tr>
    <td bgcolor=gray>5</td>
    <td>会话层</td>
    <td>负责建立和断开通信连接, 以及数据的分割</td>
    <td>采用哪个连接发送?</td>
  </tr>
  <tr>
    <td bgcolor=gray>4</td>
    <td>传输层</td>
    <td>确保数据被可靠的传送到目标地址. 只在通信双方节点(互连的网络终端)上处理, 无需经过路由器</td>
    <td>确立连接与断开连接重发</td>
  </tr>
  <tr>
    <td bgcolor=gray>3</td>
    <td>网络层</td>
    <td>将数据传输到目标地址, 负责寻找目标地址和路由选择. 经过哪个路由传递到目标地址</td>
    <td>从主机A到主机B的数据通信处理, 负责将整个数据发送给目标地址(MAC地址|物理地址|硬件地址)</td>
  </tr>
  <tr>
    <td bgcolor=gray>2</td>
    <td>数据链路层</td>
    <td>互连设备之间传送和识别数据帧, 数据帧与比特流之间的转换</td>
    <td rowspan=2>向物理地址发送信号</td>
  </tr>
  <tr>
    <td bgcolor=gray>1</td>
    <td>物理层</td>
    <td>以 "0"、"1" 代表电压的高低、灯光的闪灭, 比特流与电子信号之间的切换, 连接器与网线的规格</td>
  </tr>
</table>

## 1.7 传输方式的分类

### 面向有连接型与面向无连接型

* 面向有连接型: 发送数据之前, 需要收发主机之间**建立通信连接**
* 面向无连接型: 不要求建立连接和断开连接, 可**任意时间自由发送数据**

### 电路交换和分组交换

* 电路交换: 过去的电话网
* 分组交换(蓄积交换): 发送端计算机->分组发送给路由器->路由器缓存到自己的缓冲区->再转发给目标计算机

### 根据接收端数量分类

* 单播: 一对一通信
* 广播: 一对多通信, 所有计算机
* 多播: 一对多通信, 特定组内的通信
* 任播: 特定组内的任意一台计算机

## 1.8 地址

TCP/IP通信中使用**MAC地址**、**IP地址**、**端口号**等信息作为地址标识

* 唯一性
* 层次性, **IP地址具有层次性, 由网络号和主机号组成**

## 1.9 网络的构成要素

<table>
  <tr>
    <th width=35%>设备</th>
    <th width=65%>作用</th>
  </tr>
  <tr>
    <td>网卡</td>
    <td>使计算机连网的设备</td>
  </tr>
  <tr>
    <td>中继器</td>
    <td>从物理层上延长网络的设备</td>
  <tr>
    <td>网桥/2层交换机</td>
    <td>从数据链路层上延长网络的设备</td>
  </tr>
  <tr>
    <td>路由器/3层交换机</td>
    <td>通过网络层转发分组数据的设备</td>
  </tr>
  <tr>
    <td>4~7层交换机</td>
    <td>处理传输层以上各层网络传输的设备</td>
  </tr>
  <tr>
    <td>网关</td>
    <td>转换协议的设备</td>
  </tr>
</table>

### 通信媒介

计算机之间通过电缆(**通信媒介**)相互连接

### 传输速率与吞吐量

各种传输媒介中信号的流动速度是**恒定**的

* 传输速率(带宽): 设备之间数据流动的物理速度, 指**单位时间内传输的数据量**
* 吞吐量: 主机之间**实际传输速率**

## 1.10 现代网络时态

* 互联网通信
* 移动通信
* 虚拟化技术和云